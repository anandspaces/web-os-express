<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WebOS Terminal</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: 'Courier New', monospace;
			background: #000;
			color: #00ff00;
			height: 100vh;
			overflow: hidden;
			display: flex;
		}

		.container {
			display: flex;
			width: 100%;
			height: 100vh;
		}

		#terminal {
			flex: 1;
			height: 100vh;
			padding: 20px;
			box-sizing: border-box;
			overflow-y: auto;
			white-space: pre-wrap;
			word-wrap: break-word;
		}

		.input-line {
			display: flex;
			align-items: center;
		}

		.prompt {
			color: #00ff00;
			margin-right: 10px;
		}

		#command-input {
			background: transparent;
			border: none;
			color: #00ff00;
			font-family: inherit;
			font-size: inherit;
			flex: 1;
			outline: none;
		}

		.output {
			margin: 5px 0;
		}

		.error {
			color: #ff6666;
		}

		.cursor {
			animation: blink 1s infinite;
		}

		@keyframes blink {

			0%,
			50% {
				opacity: 1;
			}

			51%,
			100% {
				opacity: 0;
			}
		}

		.login-form {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: #111;
			padding: 30px;
			border: 1px solid #333;
			border-radius: 8px;
			z-index: 1000;
		}

		.login-form input {
			display: block;
			width: 100%;
			margin: 10px 0;
			padding: 10px;
			background: #222;
			border: 1px solid #333;
			color: #00ff00;
			font-family: inherit;
		}

		.login-form button {
			background: #333;
			color: #00ff00;
			border: 1px solid #555;
			padding: 10px 20px;
			margin: 5px;
			cursor: pointer;
			font-family: inherit;
		}

		.login-form button:hover {
			background: #555;
		}

		.hidden {
			display: none !important;
		}

		#chat-panel {
			width: 300px;
			border-left: 1px solid #333;
			display: flex;
			flex-direction: column;
			background: #111;
		}

		#chat-messages {
			flex: 1;
			overflow-y: auto;
			padding: 10px;
		}

		.chat-message {
			margin: 5px 0;
			padding: 5px;
			border-radius: 4px;
			word-wrap: break-word;
		}

		.chat-message.system {
			color: #888;
			font-style: italic;
		}

		.chat-message .username {
			color: #4CAF50;
			font-weight: bold;
		}

		.chat-message .time {
			color: #666;
			font-size: 0.8em;
		}

		#chat-input-container {
			display: flex;
			padding: 10px;
			border-top: 1px solid #333;
		}

		#chat-input {
			flex: 1;
			background: #222;
			border: 1px solid #333;
			color: #00ff00;
			padding: 5px;
			margin-right: 5px;
			font-family: inherit;
		}

		#chat-send {
			background: #333;
			color: #00ff00;
			border: 1px solid #555;
			padding: 5px 10px;
			cursor: pointer;
		}

		#chat-send:hover {
			background: #555;
		}

		#mode-toggle {
			position: fixed;
			top: 10px;
			right: 320px;
			background: #333;
			color: #00ff00;
			border: 1px solid #555;
			padding: 5px 10px;
			cursor: pointer;
			z-index: 100;
		}

		#users-online {
			padding: 10px;
			border-bottom: 1px solid #333;
			color: #888;
		}
	</style>
</head>

<body>
	<div id="login-form" class="login-form">
		<h2>WebOS Login</h2>
		<input type="text" id="username" placeholder="Username" />
		<input type="password" id="password" placeholder="Password" />
		<button onclick="login()">Login</button>
		<button onclick="register()">Register</button>
		<button onclick="anonymousLogin()">Anonymous Login</button>
	</div>

	<div class="container hidden" id="main-container">
		<button id="mode-toggle">Toggle Chat</button>

		<div id="terminal">
			<div id="output"></div>
			<div class="input-line">
				<span class="prompt" id="prompt">user@webos:~$ </span>
				<input type="text" id="command-input" autocomplete="off" />
			</div>
		</div>

		<div id="chat-panel">
			<div id="users-online">Users Online: 1</div>
			<div id="chat-messages"></div>
			<div id="chat-input-container">
				<input type="text" id="chat-input" placeholder="Type a message..." />
				<button id="chat-send">Send</button>
			</div>
		</div>
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>
	<script src="./app.js"></script>
</body>

</html>